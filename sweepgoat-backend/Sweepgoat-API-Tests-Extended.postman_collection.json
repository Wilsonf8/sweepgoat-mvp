{
	"info": {
		"_postman_id": "sweepgoat-api-tests-extended-v1",
		"name": "Sweepgoat API Tests - Extended Multi-Tenant",
		"description": "Extended test suite with multiple hosts, users, and giveaways",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"variable": [
		{
			"key": "baseUrl",
			"value": "http://localhost:8081",
			"type": "string"
		},
		{
			"key": "host1Subdomain",
			"value": "acme",
			"type": "string"
		},
		{
			"key": "host1Email",
			"value": "host@acme.com",
			"type": "string"
		},
		{
			"key": "host1Password",
			"value": "SecurePass123!",
			"type": "string"
		},
		{
			"key": "host1Token",
			"value": "",
			"type": "string"
		},
		{
			"key": "host1Id",
			"value": "",
			"type": "string"
		},
		{
			"key": "host2Subdomain",
			"value": "techco",
			"type": "string"
		},
		{
			"key": "host2Email",
			"value": "host@techco.com",
			"type": "string"
		},
		{
			"key": "host2Password",
			"value": "SecurePass456!",
			"type": "string"
		},
		{
			"key": "host2Token",
			"value": "",
			"type": "string"
		},
		{
			"key": "host2Id",
			"value": "",
			"type": "string"
		},
		{
			"key": "user1Email",
			"value": "alice@test.com",
			"type": "string"
		},
		{
			"key": "user1Password",
			"value": "UserPass123!",
			"type": "string"
		},
		{
			"key": "user1Token",
			"value": "",
			"type": "string"
		},
		{
			"key": "user1Id",
			"value": "",
			"type": "string"
		},
		{
			"key": "user2Email",
			"value": "bob@test.com",
			"type": "string"
		},
		{
			"key": "user2Password",
			"value": "UserPass456!",
			"type": "string"
		},
		{
			"key": "user2Token",
			"value": "",
			"type": "string"
		},
		{
			"key": "user2Id",
			"value": "",
			"type": "string"
		},
		{
			"key": "user3Email",
			"value": "charlie@test.com",
			"type": "string"
		},
		{
			"key": "user3Password",
			"value": "UserPass789!",
			"type": "string"
		},
		{
			"key": "user3Token",
			"value": "",
			"type": "string"
		},
		{
			"key": "user3Id",
			"value": "",
			"type": "string"
		},
		{
			"key": "user4Email",
			"value": "diana@test.com",
			"type": "string"
		},
		{
			"key": "user4Password",
			"value": "UserPass111!",
			"type": "string"
		},
		{
			"key": "user4Token",
			"value": "",
			"type": "string"
		},
		{
			"key": "user4Id",
			"value": "",
			"type": "string"
		},
		{
			"key": "user5Email",
			"value": "edward@test.com",
			"type": "string"
		},
		{
			"key": "user5Password",
			"value": "UserPass222!",
			"type": "string"
		},
		{
			"key": "user5Token",
			"value": "",
			"type": "string"
		},
		{
			"key": "user5Id",
			"value": "",
			"type": "string"
		},
		{
			"key": "user6Email",
			"value": "frank@test.com",
			"type": "string"
		},
		{
			"key": "user6Password",
			"value": "UserPass333!",
			"type": "string"
		},
		{
			"key": "user6Token",
			"value": "",
			"type": "string"
		},
		{
			"key": "user6Id",
			"value": "",
			"type": "string"
		},
		{
			"key": "giveaway1Id",
			"value": "",
			"type": "string"
		},
		{
			"key": "giveaway2Id",
			"value": "",
			"type": "string"
		},
		{
			"key": "giveaway3Id",
			"value": "",
			"type": "string"
		},
		{
			"key": "giveaway4Id",
			"value": "",
			"type": "string"
		}
	],
	"item": [
		{
			"name": "SETUP - Register Hosts",
			"item": [
				{
					"name": "Register Host 1 (Acme)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status is 200\", () => pm.response.to.have.status(200));",
									"pm.test(\"Host 1 registered\", () => {",
									"    const json = pm.response.json();",
									"    pm.expect(json.token).to.exist;",
									"    pm.expect(json.userType).to.equal('HOST');",
									"    pm.collectionVariables.set(\"host1Token\", json.token);",
									"    pm.collectionVariables.set(\"host1Id\", json.hostId);",
									"    console.log(\"\u2705 Host 1 (Acme) registered - ID:\", json.hostId);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"subdomain\": \"{{host1Subdomain}}\",\n  \"companyName\": \"Acme Corporation\",\n  \"email\": \"{{host1Email}}\",\n  \"password\": \"{{host1Password}}\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/host/register",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"host",
								"register"
							]
						}
					}
				},
				{
					"name": "Register Host 2 (TechCo)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status is 200\", () => pm.response.to.have.status(200));",
									"pm.test(\"Host 2 registered\", () => {",
									"    const json = pm.response.json();",
									"    pm.expect(json.token).to.exist;",
									"    pm.expect(json.userType).to.equal('HOST');",
									"    pm.collectionVariables.set(\"host2Token\", json.token);",
									"    pm.collectionVariables.set(\"host2Id\", json.hostId);",
									"    console.log(\"\u2705 Host 2 (TechCo) registered - ID:\", json.hostId);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"subdomain\": \"{{host2Subdomain}}\",\n  \"companyName\": \"TechCo Industries\",\n  \"email\": \"{{host2Email}}\",\n  \"password\": \"{{host2Password}}\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/host/register",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"host",
								"register"
							]
						}
					}
				}
			]
		},
		{
			"name": "SETUP - Register Users",
			"item": [
				{
					"name": "Register User 1 (Alice) on Acme",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status is 200\", () => pm.response.to.have.status(200));",
									"pm.test(\"User 1 registered\", () => {",
									"    const json = pm.response.json();",
									"    pm.expect(json.message).to.include('success');",
									"    pm.collectionVariables.set(\"user1Id\", json.userId);",
									"    console.log(\"\u2705 User 1 (Alice) registered on Acme\");",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "X-Subdomain",
								"value": "{{host1Subdomain}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"{{user1Email}}\",\n  \"password\": \"{{user1Password}}\",\n  \"username\": \"alice\",\n  \"firstName\": \"Alice\",\n  \"lastName\": \"Johnson\",\n  \"phoneNumber\": \"+1-555-0101\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/user/register",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"user",
								"register"
							]
						}
					}
				},
				{
					"name": "Verify User 1 Email",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status is 200\", () => pm.response.to.have.status(200));",
									"console.log(\"\u2705 User 1 email verified\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "X-Subdomain",
								"value": "{{host1Subdomain}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"{{user1Email}}\",\n  \"code\": \"000000\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/user/verify-email",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"user",
								"verify-email"
							]
						}
					}
				},
				{
					"name": "Login User 1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status is 200\", () => pm.response.to.have.status(200));",
									"pm.test(\"User 1 logged in\", () => {",
									"    const json = pm.response.json();",
									"    pm.expect(json.token).to.exist;",
									"    pm.collectionVariables.set(\"user1Token\", json.token);",
									"    console.log(\"\u2705 User 1 logged in\");",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "X-Subdomain",
								"value": "{{host1Subdomain}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"{{user1Email}}\",\n  \"password\": \"{{user1Password}}\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/user/login",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"user",
								"login"
							]
						}
					}
				},
				{
					"name": "Register User 2 (Bob) on Acme",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status is 200\", () => pm.response.to.have.status(200));",
									"pm.test(\"User 2 registered\", () => {",
									"    const json = pm.response.json();",
									"    pm.collectionVariables.set(\"user2Id\", json.userId);",
									"    console.log(\"\u2705 User 2 (Bob) registered on Acme\");",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "X-Subdomain",
								"value": "{{host1Subdomain}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"{{user2Email}}\",\n  \"password\": \"{{user2Password}}\",\n  \"username\": \"bob\",\n  \"firstName\": \"Bob\",\n  \"lastName\": \"Smith\",\n  \"phoneNumber\": \"+1-555-0102\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/user/register",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"user",
								"register"
							]
						}
					}
				},
				{
					"name": "Verify User 2 Email",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "X-Subdomain",
								"value": "{{host1Subdomain}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"{{user2Email}}\",\n  \"code\": \"000000\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/user/verify-email",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"user",
								"verify-email"
							]
						}
					}
				},
				{
					"name": "Login User 2",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"User 2 logged in\", () => {",
									"    const json = pm.response.json();",
									"    pm.collectionVariables.set(\"user2Token\", json.token);",
									"    console.log(\"\u2705 User 2 logged in\");",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "X-Subdomain",
								"value": "{{host1Subdomain}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"{{user2Email}}\",\n  \"password\": \"{{user2Password}}\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/user/login",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"user",
								"login"
							]
						}
					}
				},
				{
					"name": "Register User 3 (Charlie) on TechCo",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"User 3 registered\", () => {",
									"    const json = pm.response.json();",
									"    pm.collectionVariables.set(\"user3Id\", json.userId);",
									"    console.log(\"\u2705 User 3 (Charlie) registered on TechCo\");",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "X-Subdomain",
								"value": "{{host2Subdomain}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"{{user3Email}}\",\n  \"password\": \"{{user3Password}}\",\n  \"username\": \"charlie\",\n  \"firstName\": \"Charlie\",\n  \"lastName\": \"Brown\",\n  \"phoneNumber\": \"+1-555-0103\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/user/register",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"user",
								"register"
							]
						}
					}
				},
				{
					"name": "Verify User 3 Email",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "X-Subdomain",
								"value": "{{host2Subdomain}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"{{user3Email}}\",\n  \"code\": \"000000\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/user/verify-email",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"user",
								"verify-email"
							]
						}
					}
				},
				{
					"name": "Login User 3",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"User 3 logged in\", () => {",
									"    const json = pm.response.json();",
									"    pm.collectionVariables.set(\"user3Token\", json.token);",
									"    console.log(\"\u2705 User 3 logged in\");",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "X-Subdomain",
								"value": "{{host2Subdomain}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"{{user3Email}}\",\n  \"password\": \"{{user3Password}}\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/user/login",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"user",
								"login"
							]
						}
					}
				},
				{
					"name": "Register User 4 (Diana) on Acme",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"User 4 registered\", () => {",
									"    const json = pm.response.json();",
									"    pm.collectionVariables.set(\"user4Id\", json.userId);",
									"    console.log(\"\u2705 User 4 (Diana) registered on Acme\");",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "X-Subdomain",
								"value": "{{host1Subdomain}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"{{user4Email}}\",\n  \"password\": \"{{user4Password}}\",\n  \"username\": \"diana\",\n  \"firstName\": \"Diana\",\n  \"lastName\": \"Wilson\",\n  \"phoneNumber\": \"+1-555-0104\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/user/register",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"user",
								"register"
							]
						}
					}
				},
				{
					"name": "Login User 4",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"User 4 logged in\", () => {",
									"    const json = pm.response.json();",
									"    pm.collectionVariables.set(\"user4Token\", json.token);",
									"    console.log(\"\u2705 User 4 logged in\");",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "X-Subdomain",
								"value": "{{host1Subdomain}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"{{user4Email}}\",\n  \"password\": \"{{user4Password}}\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/user/login",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"user",
								"login"
							]
						}
					}
				},
				{
					"name": "Register User 5 (Edward) on Acme",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"User 5 registered\", () => {",
									"    const json = pm.response.json();",
									"    pm.collectionVariables.set(\"user5Id\", json.userId);",
									"    console.log(\"\u2705 User 5 (Edward) registered on Acme\");",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "X-Subdomain",
								"value": "{{host1Subdomain}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"{{user5Email}}\",\n  \"password\": \"{{user5Password}}\",\n  \"username\": \"edward\",\n  \"firstName\": \"Edward\",\n  \"lastName\": \"Taylor\",\n  \"phoneNumber\": \"+1-555-0105\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/user/register",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"user",
								"register"
							]
						}
					}
				},
				{
					"name": "Login User 5",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"User 5 logged in\", () => {",
									"    const json = pm.response.json();",
									"    pm.collectionVariables.set(\"user5Token\", json.token);",
									"    console.log(\"\u2705 User 5 logged in\");",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "X-Subdomain",
								"value": "{{host1Subdomain}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"{{user5Email}}\",\n  \"password\": \"{{user5Password}}\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/user/login",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"user",
								"login"
							]
						}
					}
				},
				{
					"name": "Register User 6 (Frank) on Acme",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"User 6 registered\", () => {",
									"    const json = pm.response.json();",
									"    pm.collectionVariables.set(\"user6Id\", json.userId);",
									"    console.log(\"\u2705 User 6 (Frank) registered on Acme\");",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "X-Subdomain",
								"value": "{{host1Subdomain}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"{{user6Email}}\",\n  \"password\": \"{{user6Password}}\",\n  \"username\": \"frank\",\n  \"firstName\": \"Frank\",\n  \"lastName\": \"Anderson\",\n  \"phoneNumber\": \"+1-555-0106\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/user/register",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"user",
								"register"
							]
						}
					}
				},
				{
					"name": "Login User 6",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"User 6 logged in\", () => {",
									"    const json = pm.response.json();",
									"    pm.collectionVariables.set(\"user6Token\", json.token);",
									"    console.log(\"\u2705 User 6 logged in\");",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "X-Subdomain",
								"value": "{{host1Subdomain}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"{{user6Email}}\",\n  \"password\": \"{{user6Password}}\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/user/login",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"user",
								"login"
							]
						}
					}
				}
			]
		},
		{
			"name": "SETUP - Create Giveaways",
			"item": [
				{
					"name": "Host 1 - Create Giveaway 1 (iPhone)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Giveaway 1 created\", () => {",
									"    const json = pm.response.json();",
									"    pm.collectionVariables.set(\"giveaway1Id\", json.id);",
									"    console.log(\"\u2705 Giveaway 1 created - ID:\", json.id);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{host1Token}}"
							},
							{
								"key": "X-Subdomain",
								"value": "{{host1Subdomain}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"title\": \"Win an iPhone 15 Pro\",\n  \"description\": \"Enter for a chance to win the latest iPhone!\",\n  \"imageUrl\": \"https://example.com/iphone.jpg\",\n  \"startDate\": \"2025-10-24T00:00:00\",\n  \"endDate\": \"2025-12-31T23:59:59\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/host/giveaways",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"host",
								"giveaways"
							]
						}
					}
				},
				{
					"name": "Host 1 - Create Giveaway 2 (MacBook)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Giveaway 2 created\", () => {",
									"    const json = pm.response.json();",
									"    pm.collectionVariables.set(\"giveaway2Id\", json.id);",
									"    console.log(\"\u2705 Giveaway 2 created - ID:\", json.id);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{host1Token}}"
							},
							{
								"key": "X-Subdomain",
								"value": "{{host1Subdomain}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"title\": \"Win a MacBook Pro\",\n  \"description\": \"Grand prize: Latest MacBook Pro 16-inch!\",\n  \"imageUrl\": \"https://example.com/macbook.jpg\",\n  \"startDate\": \"2025-10-24T00:00:00\",\n  \"endDate\": \"2025-11-30T23:59:59\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/host/giveaways",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"host",
								"giveaways"
							]
						}
					}
				},
				{
					"name": "Host 2 - Create Giveaway 3 (PS5)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Giveaway 3 created\", () => {",
									"    const json = pm.response.json();",
									"    pm.collectionVariables.set(\"giveaway3Id\", json.id);",
									"    console.log(\"\u2705 Giveaway 3 created - ID:\", json.id);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{host2Token}}"
							},
							{
								"key": "X-Subdomain",
								"value": "{{host2Subdomain}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"title\": \"Win a PlayStation 5\",\n  \"description\": \"Gaming giveaway - PS5 console bundle!\",\n  \"imageUrl\": \"https://example.com/ps5.jpg\",\n  \"startDate\": \"2025-10-24T00:00:00\",\n  \"endDate\": \"2025-12-15T23:59:59\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/host/giveaways",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"host",
								"giveaways"
							]
						}
					}
				},
				{
					"name": "Host 2 - Create Giveaway 4 (Xbox)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Giveaway 4 created\", () => {",
									"    const json = pm.response.json();",
									"    pm.collectionVariables.set(\"giveaway4Id\", json.id);",
									"    console.log(\"\u2705 Giveaway 4 created - ID:\", json.id);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{host2Token}}"
							},
							{
								"key": "X-Subdomain",
								"value": "{{host2Subdomain}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"title\": \"Win an Xbox Series X\",\n  \"description\": \"Ultimate gaming prize!\",\n  \"imageUrl\": \"https://example.com/xbox.jpg\",\n  \"startDate\": \"2025-10-24T00:00:00\",\n  \"endDate\": \"2025-12-20T23:59:59\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/host/giveaways",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"host",
								"giveaways"
							]
						}
					}
				}
			]
		},
		{
			"name": "TEST - Multiple User Entries",
			"item": [
				{
					"name": "User 1 - Enter Giveaway 1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"User 1 entered giveaway 1\", () => {",
									"    pm.response.to.have.status(200);",
									"    const json = pm.response.json();",
									"    pm.expect(json.success).to.be.true;",
									"    console.log(\"\u2705 Alice entered iPhone giveaway\");",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{user1Token}}"
							},
							{
								"key": "X-Subdomain",
								"value": "{{host1Subdomain}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"points\": 1, \"isFreeEntry\": true}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/user/giveaways/{{giveaway1Id}}/enter",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"user",
								"giveaways",
								"{{giveaway1Id}}",
								"enter"
							]
						}
					}
				},
				{
					"name": "User 1 - Enter Giveaway 2",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"User 1 entered giveaway 2\", () => {",
									"    pm.response.to.have.status(200);",
									"    console.log(\"\u2705 Alice entered MacBook giveaway\");",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{user1Token}}"
							},
							{
								"key": "X-Subdomain",
								"value": "{{host1Subdomain}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"points\": 1, \"isFreeEntry\": true}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/user/giveaways/{{giveaway2Id}}/enter",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"user",
								"giveaways",
								"{{giveaway2Id}}",
								"enter"
							]
						}
					}
				},
				{
					"name": "User 2 - Enter Giveaway 1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"User 2 entered giveaway 1\", () => {",
									"    pm.response.to.have.status(200);",
									"    console.log(\"\u2705 Bob entered iPhone giveaway\");",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{user2Token}}"
							},
							{
								"key": "X-Subdomain",
								"value": "{{host1Subdomain}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"points\": 1, \"isFreeEntry\": true}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/user/giveaways/{{giveaway1Id}}/enter",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"user",
								"giveaways",
								"{{giveaway1Id}}",
								"enter"
							]
						}
					}
				},
				{
					"name": "User 2 - Enter Giveaway 2",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"User 2 entered giveaway 2\", () => {",
									"    pm.response.to.have.status(200);",
									"    console.log(\"\u2705 Bob entered MacBook giveaway\");",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{user2Token}}"
							},
							{
								"key": "X-Subdomain",
								"value": "{{host1Subdomain}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"points\": 1, \"isFreeEntry\": true}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/user/giveaways/{{giveaway2Id}}/enter",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"user",
								"giveaways",
								"{{giveaway2Id}}",
								"enter"
							]
						}
					}
				},
				{
					"name": "User 3 - Enter Giveaway 3",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"User 3 entered giveaway 3\", () => {",
									"    pm.response.to.have.status(200);",
									"    console.log(\"\u2705 Charlie entered PS5 giveaway\");",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{user3Token}}"
							},
							{
								"key": "X-Subdomain",
								"value": "{{host2Subdomain}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"points\": 1, \"isFreeEntry\": true}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/user/giveaways/{{giveaway3Id}}/enter",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"user",
								"giveaways",
								"{{giveaway3Id}}",
								"enter"
							]
						}
					}
				},
				{
					"name": "User 3 - Enter Giveaway 4",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"User 3 entered giveaway 4\", () => {",
									"    pm.response.to.have.status(200);",
									"    console.log(\"\u2705 Charlie entered Xbox giveaway\");",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{user3Token}}"
							},
							{
								"key": "X-Subdomain",
								"value": "{{host2Subdomain}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"points\": 1, \"isFreeEntry\": true}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/user/giveaways/{{giveaway4Id}}/enter",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"user",
								"giveaways",
								"{{giveaway4Id}}",
								"enter"
							]
						}
					}
				}
			]
		},
		{
			"name": "TEST - View Leaderboards",
			"item": [
				{
					"name": "Host 1 - View Giveaway 1 Leaderboard",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Leaderboard has 2 entries\", () => {",
									"    const json = pm.response.json();",
									"    pm.expect(json.length).to.equal(2);",
									"    console.log(\"\u2705 Giveaway 1 has\", json.length, \"entries\");",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{host1Token}}"
							},
							{
								"key": "X-Subdomain",
								"value": "{{host1Subdomain}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/host/giveaways/{{giveaway1Id}}/entries",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"host",
								"giveaways",
								"{{giveaway1Id}}",
								"entries"
							]
						}
					}
				},
				{
					"name": "Host 1 - View Giveaway 2 Leaderboard",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Leaderboard has 2 entries\", () => {",
									"    const json = pm.response.json();",
									"    pm.expect(json.length).to.equal(2);",
									"    console.log(\"\u2705 Giveaway 2 has\", json.length, \"entries\");",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{host1Token}}"
							},
							{
								"key": "X-Subdomain",
								"value": "{{host1Subdomain}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/host/giveaways/{{giveaway2Id}}/entries",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"host",
								"giveaways",
								"{{giveaway2Id}}",
								"entries"
							]
						}
					}
				},
				{
					"name": "Host 1 - View All Users",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Host 1 has 5 users\", () => {",
									"    const json = pm.response.json();",
									"    pm.expect(json.length).to.equal(5);",
									"    console.log(\"\u2705 Acme has\", json.length, \"registered users\");",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{host1Token}}"
							},
							{
								"key": "X-Subdomain",
								"value": "{{host1Subdomain}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/host/users",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"host",
								"users"
							]
						}
					}
				}
			]
		},
		{
			"name": "TEST - CRM User Sorting",
			"item": [
				{
					"name": "Sort Users by Last Login (Descending)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Users sorted by lastLoginAt desc\", () => {",
									"    pm.response.to.have.status(200);",
									"    const json = pm.response.json();",
									"    pm.expect(json.length).to.be.greaterThan(0);",
									"    console.log(\"\u2705 Sorted by last login (descending)\");",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{host1Token}}"
							},
							{
								"key": "X-Subdomain",
								"value": "{{host1Subdomain}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/host/users?sortBy=lastLoginAt&sortOrder=desc",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"host",
								"users"
							],
							"query": [
								{
									"key": "sortBy",
									"value": "lastLoginAt"
								},
								{
									"key": "sortOrder",
									"value": "desc"
								}
							]
						}
					}
				},
				{
					"name": "Sort Users by Last Login (Ascending)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Users sorted by lastLoginAt asc\", () => {",
									"    pm.response.to.have.status(200);",
									"    const json = pm.response.json();",
									"    pm.expect(json.length).to.be.greaterThan(0);",
									"    console.log(\"\u2705 Sorted by last login (ascending)\");",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{host1Token}}"
							},
							{
								"key": "X-Subdomain",
								"value": "{{host1Subdomain}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/host/users?sortBy=lastLoginAt&sortOrder=asc",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"host",
								"users"
							],
							"query": [
								{
									"key": "sortBy",
									"value": "lastLoginAt"
								},
								{
									"key": "sortOrder",
									"value": "asc"
								}
							]
						}
					}
				},
				{
					"name": "Sort Users by Created Date (Descending)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Users sorted by createdAt desc\", () => {",
									"    pm.response.to.have.status(200);",
									"    const json = pm.response.json();",
									"    pm.expect(json.length).to.equal(5);",
									"    console.log(\"\u2705 Sorted by created date (descending) - newest first\");",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{host1Token}}"
							},
							{
								"key": "X-Subdomain",
								"value": "{{host1Subdomain}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/host/users?sortBy=createdAt&sortOrder=desc",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"host",
								"users"
							],
							"query": [
								{
									"key": "sortBy",
									"value": "createdAt"
								},
								{
									"key": "sortOrder",
									"value": "desc"
								}
							]
						}
					}
				},
				{
					"name": "Sort Users by Email (Ascending)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Users sorted by email asc\", () => {",
									"    pm.response.to.have.status(200);",
									"    const json = pm.response.json();",
									"    pm.expect(json.length).to.equal(5);",
									"    // Verify alphabetical order",
									"    pm.expect(json[0].email).to.equal('alice@test.com');",
									"    pm.expect(json[1].email).to.equal('bob@test.com');",
									"    console.log(\"\u2705 Sorted by email (ascending) - alphabetical\");",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{host1Token}}"
							},
							{
								"key": "X-Subdomain",
								"value": "{{host1Subdomain}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/host/users?sortBy=email&sortOrder=asc",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"host",
								"users"
							],
							"query": [
								{
									"key": "sortBy",
									"value": "email"
								},
								{
									"key": "sortOrder",
									"value": "asc"
								}
							]
						}
					}
				},
				{
					"name": "Sort Users by First Name (Ascending)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Users sorted by firstName asc\", () => {",
									"    pm.response.to.have.status(200);",
									"    const json = pm.response.json();",
									"    pm.expect(json.length).to.equal(5);",
									"    // Verify alphabetical order: Alice, Bob, Diana, Edward, Frank",
									"    pm.expect(json[0].firstName).to.equal('Alice');",
									"    pm.expect(json[1].firstName).to.equal('Bob');",
									"    pm.expect(json[2].firstName).to.equal('Diana');",
									"    console.log(\"\u2705 Sorted by first name (ascending)\");",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{host1Token}}"
							},
							{
								"key": "X-Subdomain",
								"value": "{{host1Subdomain}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/host/users?sortBy=firstName&sortOrder=asc",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"host",
								"users"
							],
							"query": [
								{
									"key": "sortBy",
									"value": "firstName"
								},
								{
									"key": "sortOrder",
									"value": "asc"
								}
							]
						}
					}
				},
				{
					"name": "Sort Users by Last Name (Ascending)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Users sorted by lastName asc\", () => {",
									"    pm.response.to.have.status(200);",
									"    const json = pm.response.json();",
									"    pm.expect(json.length).to.equal(5);",
									"    // Anderson, Johnson, Smith, Taylor, Wilson",
									"    pm.expect(json[0].lastName).to.equal('Anderson');",
									"    pm.expect(json[4].lastName).to.equal('Wilson');",
									"    console.log(\"\u2705 Sorted by last name (ascending)\");",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{host1Token}}"
							},
							{
								"key": "X-Subdomain",
								"value": "{{host1Subdomain}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/host/users?sortBy=lastName&sortOrder=asc",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"host",
								"users"
							],
							"query": [
								{
									"key": "sortBy",
									"value": "lastName"
								},
								{
									"key": "sortOrder",
									"value": "asc"
								}
							]
						}
					}
				},
				{
					"name": "Default Sorting (No Parameters)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Users with default sorting\", () => {",
									"    pm.response.to.have.status(200);",
									"    const json = pm.response.json();",
									"    pm.expect(json.length).to.equal(5);",
									"    console.log(\"\u2705 Default sorting (createdAt desc)\");",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{host1Token}}"
							},
							{
								"key": "X-Subdomain",
								"value": "{{host1Subdomain}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/host/users",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"host",
								"users"
							]
						}
					}
				}
			]
		},
		{
			"name": "TEST - User Filtering",
			"item": [
				{
					"name": "Filter by Giveaway 1 (iPhone)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status is 200\", () => pm.response.to.have.status(200));",
									"pm.test(\"Only users who entered giveaway 1\", () => {",
									"    const json = pm.response.json();",
									"    pm.expect(json.length).to.equal(2);",
									"    // Alice and Bob entered giveaway 1",
									"    const emails = json.map(u => u.email);",
									"    pm.expect(emails).to.include('alice@test.com');",
									"    pm.expect(emails).to.include('bob@test.com');",
									"    console.log(\"✅ Filtered by giveaway 1 - found\", json.length, \"users\");",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{host1Token}}"
							},
							{
								"key": "X-Subdomain",
								"value": "{{host1Subdomain}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/host/users?giveawayId={{giveaway1Id}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"host",
								"users"
							],
							"query": [
								{
									"key": "giveawayId",
									"value": "{{giveaway1Id}}"
								}
							]
						}
					}
				},
				{
					"name": "Filter by Giveaway 2 (MacBook)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status is 200\", () => pm.response.to.have.status(200));",
									"pm.test(\"Only users who entered giveaway 2\", () => {",
									"    const json = pm.response.json();",
									"    pm.expect(json.length).to.equal(2);",
									"    const emails = json.map(u => u.email);",
									"    pm.expect(emails).to.include('alice@test.com');",
									"    pm.expect(emails).to.include('bob@test.com');",
									"    console.log(\"✅ Filtered by giveaway 2 - found\", json.length, \"users\");",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{host1Token}}"
							},
							{
								"key": "X-Subdomain",
								"value": "{{host1Subdomain}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/host/users?giveawayId={{giveaway2Id}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"host",
								"users"
							],
							"query": [
								{
									"key": "giveawayId",
									"value": "{{giveaway2Id}}"
								}
							]
						}
					}
				},
				{
					"name": "Filter by Email Verified (True)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status is 200\", () => pm.response.to.have.status(200));",
									"pm.test(\"All verified users returned\", () => {",
									"    const json = pm.response.json();",
									"    pm.expect(json.length).to.equal(5);",
									"    // All users should have emailVerified: true",
									"    json.forEach(user => {",
									"        pm.expect(user.emailVerified).to.be.true;",
									"    });",
									"    console.log(\"✅ Filtered by emailVerified=true - found\", json.length, \"users\");",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{host1Token}}"
							},
							{
								"key": "X-Subdomain",
								"value": "{{host1Subdomain}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/host/users?emailVerified=true",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"host",
								"users"
							],
							"query": [
								{
									"key": "emailVerified",
									"value": "true"
								}
							]
						}
					}
				},
				{
					"name": "Filter by Email Verified (False)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status is 200\", () => pm.response.to.have.status(200));",
									"pm.test(\"No unverified users (dev auto-verify enabled)\", () => {",
									"    const json = pm.response.json();",
									"    pm.expect(json.length).to.equal(0);",
									"    console.log(\"✅ Filtered by emailVerified=false - found\", json.length, \"users\");",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{host1Token}}"
							},
							{
								"key": "X-Subdomain",
								"value": "{{host1Subdomain}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/host/users?emailVerified=false",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"host",
								"users"
							],
							"query": [
								{
									"key": "emailVerified",
									"value": "false"
								}
							]
						}
					}
				},
				{
					"name": "Filter by Email Opt-In (True)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status is 200\", () => pm.response.to.have.status(200));",
									"pm.test(\"No users opted into email (default false)\", () => {",
									"    const json = pm.response.json();",
									"    pm.expect(json.length).to.equal(0);",
									"    console.log(\"✅ Filtered by emailOptIn=true - found\", json.length, \"users\");",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{host1Token}}"
							},
							{
								"key": "X-Subdomain",
								"value": "{{host1Subdomain}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/host/users?emailOptIn=true",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"host",
								"users"
							],
							"query": [
								{
									"key": "emailOptIn",
									"value": "true"
								}
							]
						}
					}
				},
				{
					"name": "Filter by SMS Opt-In (True)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status is 200\", () => pm.response.to.have.status(200));",
									"pm.test(\"No users opted into SMS (default false)\", () => {",
									"    const json = pm.response.json();",
									"    pm.expect(json.length).to.equal(0);",
									"    console.log(\"✅ Filtered by smsOptIn=true - found\", json.length, \"users\");",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{host1Token}}"
							},
							{
								"key": "X-Subdomain",
								"value": "{{host1Subdomain}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/host/users?smsOptIn=true",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"host",
								"users"
							],
							"query": [
								{
									"key": "smsOptIn",
									"value": "true"
								}
							]
						}
					}
				},
				{
					"name": "Combined Filter: Giveaway + Email Verified",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status is 200\", () => pm.response.to.have.status(200));",
									"pm.test(\"Verified users who entered giveaway 1\", () => {",
									"    const json = pm.response.json();",
									"    pm.expect(json.length).to.equal(2);",
									"    json.forEach(user => {",
									"        pm.expect(user.emailVerified).to.be.true;",
									"    });",
									"    console.log(\"✅ Combined filter: giveaway1 + emailVerified - found\", json.length, \"users\");",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{host1Token}}"
							},
							{
								"key": "X-Subdomain",
								"value": "{{host1Subdomain}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/host/users?giveawayId={{giveaway1Id}}&emailVerified=true",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"host",
								"users"
							],
							"query": [
								{
									"key": "giveawayId",
									"value": "{{giveaway1Id}}"
								},
								{
									"key": "emailVerified",
									"value": "true"
								}
							]
						}
					}
				},
				{
					"name": "Combined Filter: Giveaway + Sorting",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status is 200\", () => pm.response.to.have.status(200));",
									"pm.test(\"Users in giveaway 1 sorted by firstName\", () => {",
									"    const json = pm.response.json();",
									"    pm.expect(json.length).to.equal(2);",
									"    // Alphabetical: Alice, Bob",
									"    pm.expect(json[0].firstName).to.equal('Alice');",
									"    pm.expect(json[1].firstName).to.equal('Bob');",
									"    console.log(\"✅ Giveaway filter + sorting - found\", json.length, \"users\");",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{host1Token}}"
							},
							{
								"key": "X-Subdomain",
								"value": "{{host1Subdomain}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/host/users?giveawayId={{giveaway1Id}}&sortBy=firstName&sortOrder=asc",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"host",
								"users"
							],
							"query": [
								{
									"key": "giveawayId",
									"value": "{{giveaway1Id}}"
								},
								{
									"key": "sortBy",
									"value": "firstName"
								},
								{
									"key": "sortOrder",
									"value": "asc"
								}
							]
						}
					}
				},
				{
					"name": "Security Test: Cross-Tenant Giveaway Filter (Error)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status is 404 Not Found\", () => {",
									"    pm.response.to.have.status(404);",
									"});",
									"pm.test(\"Error message about giveaway not found\", () => {",
									"    const json = pm.response.json();",
									"    pm.expect(json.message.toLowerCase()).to.include('not found');",
									"    console.log(\"✅ Cross-tenant giveaway filter blocked\");",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{host1Token}}"
							},
							{
								"key": "X-Subdomain",
								"value": "{{host1Subdomain}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/host/users?giveawayId={{giveaway3Id}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"host",
								"users"
							],
							"query": [
								{
									"key": "giveawayId",
									"value": "{{giveaway3Id}}",
									"description": "Giveaway 3 belongs to Host 2, not Host 1"
								}
							]
						}
					}
				},
				{
					"name": "Security Test: Invalid Giveaway ID (Error)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status is 404 Not Found\", () => {",
									"    pm.response.to.have.status(404);",
									"});",
									"pm.test(\"Error message about giveaway not found\", () => {",
									"    const json = pm.response.json();",
									"    pm.expect(json.message.toLowerCase()).to.include('not found');",
									"    console.log(\"✅ Invalid giveaway ID rejected\");",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{host1Token}}"
							},
							{
								"key": "X-Subdomain",
								"value": "{{host1Subdomain}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/host/users?giveawayId=99999",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"host",
								"users"
							],
							"query": [
								{
									"key": "giveawayId",
									"value": "99999",
									"description": "Non-existent giveaway ID"
								}
							]
						}
					}
				},
				{
					"name": "Multiple Filters: All Parameters",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status is 200\", () => pm.response.to.have.status(200));",
									"pm.test(\"Complex filter works correctly\", () => {",
									"    const json = pm.response.json();",
									"    // Giveaway1 + verified + no emailOptIn + no smsOptIn = Alice & Bob",
									"    pm.expect(json.length).to.be.greaterThanOrEqual(0);",
									"    console.log(\"✅ Multiple filters applied - found\", json.length, \"users\");",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{host1Token}}"
							},
							{
								"key": "X-Subdomain",
								"value": "{{host1Subdomain}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/host/users?giveawayId={{giveaway1Id}}&emailVerified=true&emailOptIn=false&smsOptIn=false&sortBy=email&sortOrder=asc",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"host",
								"users"
							],
							"query": [
								{
									"key": "giveawayId",
									"value": "{{giveaway1Id}}"
								},
								{
									"key": "emailVerified",
									"value": "true"
								},
								{
									"key": "emailOptIn",
									"value": "false"
								},
								{
									"key": "smsOptIn",
									"value": "false"
								},
								{
									"key": "sortBy",
									"value": "email"
								},
								{
									"key": "sortOrder",
									"value": "asc"
								}
							]
						}
					}
				}
			]
		},
		{
			"name": "TEST - Error Cases (Negative Tests)",
			"item": [
				{
					"name": "Duplicate Host Registration (Error)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status is 409 Conflict\", () => {",
									"    pm.response.to.have.status(409);",
									"});",
									"pm.test(\"Error message about duplicate\", () => {",
									"    const json = pm.response.json();",
									"    pm.expect(json.message.toLowerCase()).to.include('already exists');",
									"    console.log(\"\u2705 Duplicate host registration blocked\");",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"subdomain\": \"{{host1Subdomain}}\",\n  \"companyName\": \"Duplicate Company\",\n  \"email\": \"{{host1Email}}\",\n  \"password\": \"AnotherPass123!\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/host/register",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"host",
								"register"
							]
						}
					}
				},
				{
					"name": "Duplicate User Registration (Error)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status is 409 Conflict\", () => {",
									"    pm.response.to.have.status(409);",
									"});",
									"pm.test(\"Error message about duplicate\", () => {",
									"    const json = pm.response.json();",
									"    pm.expect(json.message.toLowerCase()).to.include('already exists');",
									"    console.log(\"\u2705 Duplicate user registration blocked\");",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "X-Subdomain",
								"value": "{{host1Subdomain}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"{{user1Email}}\",\n  \"password\": \"DifferentPass123!\",\n  \"username\": \"alice2\",\n  \"firstName\": \"Alice\",\n  \"lastName\": \"Duplicate\",\n  \"phoneNumber\": \"+1-555-9999\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/user/register",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"user",
								"register"
							]
						}
					}
				},
				{
					"name": "Cross-Tenant Giveaway Entry (Error)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status is 400 or 403 or 404\", () => {",
									"    pm.expect([400, 403, 404]).to.include(pm.response.code);",
									"});",
									"pm.test(\"Error message indicates wrong tenant\", () => {",
									"    const json = pm.response.json();",
									"    pm.expect(json.message.toLowerCase()).to.match(/subdomain|belong|not found/);",
									"    console.log(\"\u2705 Cross-tenant entry attempt blocked\");",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{user1Token}}"
							},
							{
								"key": "X-Subdomain",
								"value": "{{host1Subdomain}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"points\": 1, \"isFreeEntry\": true}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/user/giveaways/{{giveaway3Id}}/enter",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"user",
								"giveaways",
								"{{giveaway3Id}}",
								"enter"
							]
						}
					}
				},
				{
					"name": "Duplicate Giveaway Entry (Error)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status is 400 Bad Request\", () => {",
									"    pm.response.to.have.status(400);",
									"});",
									"pm.test(\"Error message about already entered\", () => {",
									"    const json = pm.response.json();",
									"    pm.expect(json.message.toLowerCase()).to.match(/already (entered|claimed)/);",
									"    console.log(\"\u2705 Duplicate entry attempt blocked\");",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{user1Token}}"
							},
							{
								"key": "X-Subdomain",
								"value": "{{host1Subdomain}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"points\": 1, \"isFreeEntry\": true}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/user/giveaways/{{giveaway1Id}}/enter",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"user",
								"giveaways",
								"{{giveaway1Id}}",
								"enter"
							]
						}
					}
				}
			]
		},
		{
			"name": "CLEANUP - Delete Everything",
			"item": [
				{
					"name": "Delete User 4 Account",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"User 4 deleted\", () => {",
									"    pm.response.to.have.status(200);",
									"    console.log(\"\u2705 User 4 account deleted\");",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{user4Token}}"
							},
							{
								"key": "X-Subdomain",
								"value": "{{host1Subdomain}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/user/account",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"user",
								"account"
							]
						}
					}
				},
				{
					"name": "Delete User 5 Account",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"User 5 deleted\", () => {",
									"    pm.response.to.have.status(200);",
									"    console.log(\"\u2705 User 5 account deleted\");",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{user5Token}}"
							},
							{
								"key": "X-Subdomain",
								"value": "{{host1Subdomain}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/user/account",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"user",
								"account"
							]
						}
					}
				},
				{
					"name": "Delete User 6 Account",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"User 6 deleted\", () => {",
									"    pm.response.to.have.status(200);",
									"    console.log(\"\u2705 User 6 account deleted\");",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{user6Token}}"
							},
							{
								"key": "X-Subdomain",
								"value": "{{host1Subdomain}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/user/account",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"user",
								"account"
							]
						}
					}
				},
				{
					"name": "Host 1 - Delete Giveaway 1",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{host1Token}}"
							},
							{
								"key": "X-Subdomain",
								"value": "{{host1Subdomain}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/host/giveaways/{{giveaway1Id}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"host",
								"giveaways",
								"{{giveaway1Id}}"
							]
						}
					}
				},
				{
					"name": "Host 1 - Delete Giveaway 2",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{host1Token}}"
							},
							{
								"key": "X-Subdomain",
								"value": "{{host1Subdomain}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/host/giveaways/{{giveaway2Id}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"host",
								"giveaways",
								"{{giveaway2Id}}"
							]
						}
					}
				},
				{
					"name": "Host 2 - Delete Giveaway 3",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{host2Token}}"
							},
							{
								"key": "X-Subdomain",
								"value": "{{host2Subdomain}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/host/giveaways/{{giveaway3Id}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"host",
								"giveaways",
								"{{giveaway3Id}}"
							]
						}
					}
				},
				{
					"name": "Host 2 - Delete Giveaway 4",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{host2Token}}"
							},
							{
								"key": "X-Subdomain",
								"value": "{{host2Subdomain}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/host/giveaways/{{giveaway4Id}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"host",
								"giveaways",
								"{{giveaway4Id}}"
							]
						}
					}
				},
				{
					"name": "User 1 - Delete Account",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{user1Token}}"
							},
							{
								"key": "X-Subdomain",
								"value": "{{host1Subdomain}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/user/account",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"user",
								"account"
							]
						}
					}
				},
				{
					"name": "User 2 - Delete Account",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{user2Token}}"
							},
							{
								"key": "X-Subdomain",
								"value": "{{host1Subdomain}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/user/account",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"user",
								"account"
							]
						}
					}
				},
				{
					"name": "User 3 - Delete Account",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{user3Token}}"
							},
							{
								"key": "X-Subdomain",
								"value": "{{host2Subdomain}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/user/account",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"user",
								"account"
							]
						}
					}
				},
				{
					"name": "Host 1 - Delete Account",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{host1Token}}"
							},
							{
								"key": "X-Subdomain",
								"value": "{{host1Subdomain}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/host/account",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"host",
								"account"
							]
						}
					}
				},
				{
					"name": "Host 2 - Delete Account",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{host2Token}}"
							},
							{
								"key": "X-Subdomain",
								"value": "{{host2Subdomain}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/host/account",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"host",
								"account"
							]
						}
					}
				}
			]
		}
	]
}